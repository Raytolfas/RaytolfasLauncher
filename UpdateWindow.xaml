<Window x:Class="RaytolfasLauncher.UpdateWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Обновление системы" Height="300" Width="450"
        Background="Transparent" WindowStartupLocation="CenterScreen"
        AllowsTransparency="True" WindowStyle="None" MouseDown="Window_MouseDown">
    
    <Border BorderBrush="#1a1a1a" BorderThickness="1" CornerRadius="15" Background="#121212">
        <Grid Margin="20">
            <Button x:Name="CloseButton" Content="✕" Click="CloseUpdate_Click" 
                    HorizontalAlignment="Right" VerticalAlignment="Top" 
                    Width="30" Height="30" Background="Transparent" 
                    Foreground="Gray" FontSize="18" BorderThickness="0" 
                    Cursor="Hand" Panel.ZIndex="10">
                <Button.Style>
                    <Style TargetType="Button">
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="Button">
                                    <Border Background="{TemplateBinding Background}">
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </Border>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                        <Style.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="#CF6679"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Opacity" Value="0.3"/>
                            </Trigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <StackPanel VerticalAlignment="Center">
                <TextBlock Text="ДОСТУПНО ОБНОВЛЕНИЕ" Foreground="#BB86FC" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10">
                    <TextBlock Text="Текущая: " Foreground="Gray"/>
                    <TextBlock x:Name="CurrentVerText" Text="0.0.1" Foreground="White" Margin="0,0,20,0"/>
                    <TextBlock Text="Новая: " Foreground="Gray"/>
                    <TextBlock x:Name="NewVerText" Text="0.0.2" Foreground="#03DAC6" FontWeight="Bold"/>
                </StackPanel>

                <TextBlock x:Name="ChangelogText" Text="testVER" 
                           Foreground="Silver" TextWrapping="Wrap" TextAlignment="Center" Margin="0,10" Opacity="0.8"/>
                
                <ProgressBar x:Name="UpdateProgress" Height="10" Margin="0,20" Visibility="Collapsed" Foreground="#BB86FC" Background="#2D2D2D"/>

                <Grid Margin="0,10,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button x:Name="DownloadBtn" Grid.ColumnSpan="2" Content="СКАЧАТЬ И ОБНОВИТЬ" Click="DownloadBtn_Click" Height="40" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="#BB86FC" CornerRadius="8">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                    
                    <Button x:Name="CancelBtn" Grid.Column="0" Content="ОТМЕНА" Click="CancelBtn_Click" Height="40" Margin="0,0,5,0" Visibility="Collapsed" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="#333333" CornerRadius="8">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center">
                                        <ContentPresenter.Resources>
                                            <Style TargetType="TextBlock"><Setter Property="Foreground" Value="White"/></Style>
                                        </ContentPresenter.Resources>
                                    </ContentPresenter>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>

                    <Button x:Name="RestartBtn" Grid.Column="1" Content="ПЕРЕЗАПУСТИТЬ" Click="RestartBtn_Click" Height="40" Margin="5,0,0,0" Visibility="Collapsed" Cursor="Hand">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="#03DAC6" CornerRadius="8">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                    </Button>
                </Grid>
            </StackPanel>
        </Grid>
    </Border>
</Window>